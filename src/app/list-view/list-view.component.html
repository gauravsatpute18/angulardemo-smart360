<!-- As per discussion with nilesh sir on 25th of June we are making breadcrumbs static in individual pages for time being for demo pupose -->
<div aria-label="breadcrumb">
  <ol class="breadcrumb">            
    <li class="breadcrumb-item"><a [routerLink]="['/sales-marketing']">S&M</a></li>
    <li class="breadcrumb-item active" aria-current="page">Registration</li>
  </ol>
</div>
<!-- As per skype discussion with nilesh sir on 25th of June we are making this dropdown static in individual pages for time being for demo purpose -->
<div class="plus-dropdown-wrap">
  <div class="dropdown plus-dropdown" dropdown dropdown-append-to-body>
    <a class="btn dropdown-toggle btn-primary bttn-icon rounded" role="button" id="headerDropdown1" data-toggle="dropdown"
      aria-haspopup="true" aria-expanded="false"><fa-icon [icon]="faPlus"></fa-icon>
    </a>
    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="headerDropdown1">
      <a class="dropdown-item active" href="/registration/add-applicant">Registration</a>
      <a class="dropdown-item" href="/survey">Survey</a>
      <a class="dropdown-item" href="/campaign/add-campaign">Campgain</a>
    </div>
  </div>
</div>

<section class="pr-section list-view-section">
  <div class="row">
    <div class="col-12">
      <div class="sec-ttl-wrap st">
        <h2 class="h2">Welcome, Dejan</h2>
        <p class="p sub-ttl">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      </div>
      <!-- <ngb-alert *ngIf="successMessage" type="success" (close)="successMessage = ''">successMessage</ngb-alert>
            <ngb-alert type="light" (close)="close(alert)">successMessage</ngb-alert> -->
    </div>
  </div>

  <div class="row dash-wrap">
    <div class="col-xl-3 col-4 dash-col">
      <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-add-img.png');">
        <p><span class="badge badge-pill badge-warning">New</span></p>
        <span class="num h1">57</span>
        <span class="p dtl">Registrations</span>
      </div>
    </div>
    <div class="col-xl-3 col-4 dash-col">
      <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
        <p><span class="badge badge-pill badge-success">Approved</span></p>
        <span class="num h1">578</span>
        <span class="p dtl">Registrations</span>
      </div>
    </div>
    <div class="col-xl-3 col-4 dash-col">
      <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img3.png');">
        <p><span class="badge badge-pill badge-danger">Pending</span></p>
        <span class="num h1">30</span>
        <span class="p dtl">Registrations</span>
      </div>
    </div>
    <div class="col-xl-3 col-4 dash-col">
      <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img3.png');">
        <p><span class="badge badge-pill badge-danger">Rejected</span></p>
        <span class="num h1">30</span>
        <span class="p dtl">Registrations</span>
      </div>
    </div>
  </div>

  <div class="row justify-content-end">
    <div class="col">
      <form class="pr-search-form d-inline-block">
        <span class="s-icon"></span>
        <input class="form-control pr-table-search" type="search" placeholder="Search by Id, Name, Mobile No,Email" aria-label="Search">
      </form>
    </div>
    <div class="col-auto pr-0">
      <label class="p p-13 mr-3">Records</label>
      <ng-select  class="filter-select record-select" [searchable]="false" [clearable]="false"
                                appendTo="body" [items]="pagination" bindLabel="name"
                                placeholder="50" [(ngModel)]="selectedPagination" name="name">
    </ng-select>
    </div>
    <div class="col-auto pr-0">
      <button class="btn btn-outline-light3 st bttn-filter" type="button" data-toggle="collapse"
        data-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse"><span>2</span>Filter</button>
    </div>
    <div class="col-auto pl-0">
      <div class="dropdown tool-dropdown">
        <button class="btn btn-outline-light3 st dropdown-toggle" type="button" id="dropdownMenuButton"
          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Tools
        </button>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
          <a class="dropdown-item active" >
            <i class="icons8 icons8-print-2"></i>Print
          </a>
          <a class="dropdown-item" >
            <i class="icons8 icons8-pdf"></i>PDF
          </a>
          <a class="dropdown-item" >
            <i class="icons8 icons8-brief"></i>Excel
          </a>
          <a class="dropdown-item" >
            <i class="icons8 icons8-document"></i>CSV
          </a>
        </div>
      </div>
    </div>
    <div class="col-auto pl-0">
      <button class="btn btn-secondary st" [routerLink]="'/registration/add-applicant'">Register</button>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="filters-wrap">
        <div class="collapse" id="filterCollapse">
          <div class="filter-wrap-inner">

            <div class="row">
              <div class="col-12">

                <ul class="list-group list-group-horizontal">
                  <li class="list-group-item">
                    <label>Utility</label>
                    <ng-select class="filter-select" [items]="utility" bindLabel="name" placeholder="Select Utility"
                      [(ngModel)]="selectedUtility" name="name">
                    </ng-select>
                  </li>
                  <li class="list-group-item">
                    <label>Category</label>
                    <ng-select class="filter-select" [items]="category" bindLabel="name" placeholder="Select Category"
                      [(ngModel)]="selectedCategory" name="name">
                    </ng-select>
                  </li>
                  <li class="list-group-item">
                    <label>Sub Category</label>
                    <ng-select class="filter-select" [items]="subCategory" bindLabel="name"
                      placeholder="Select Sub Category" [(ngModel)]="selectedSubCategory" name="name">
                    </ng-select>
                  </li>
                  <li class="list-group-item">
                    <label>City</label>
                    <ng-select class="filter-select" [items]="city" bindLabel="name" placeholder="Select City"
                      [(ngModel)]="selectedCity" name="name">
                    </ng-select>
                  </li>
                  <li class="list-group-item">
                    <label>Area</label>
                    <ng-select class="filter-select" [items]="area" bindLabel="name" placeholder="Select Area"
                      [(ngModel)]="selectedArea" name="name">
                    </ng-select>
                  </li>
                  <li class="list-group-item">
                    <label>Sub Area</label>
                    <ng-select class="filter-select" [items]="subArea" bindLabel="name" placeholder="Select Sub Area"
                      [(ngModel)]="selectedSubArea" name="name">
                    </ng-select>
                  </li>
                  <li class="list-group-item">
                    <label>Type</label>
                    <ng-select class="filter-select" [items]="type" bindLabel="name" placeholder="Select Type"
                      [(ngModel)]="selectedType" name="name">
                    </ng-select>
                  </li>
                  <li class="list-group-item">
                    <label>Status</label>
                    <ng-select class="filter-select" [items]="status" bindLabel="name" placeholder="Select Status"
                      [(ngModel)]="selectedStatus" name="name">
                    </ng-select>
                  </li>                 
                  <li class="list-group-item">
                    <label>Date Range</label>
                    <div class="input-group">
                      <div class="input-group-prepend">
                          <button class="btn bttn-transparent bttn-icon" type="button">
                              <fa-icon [icon]="faCalendarAlt"></fa-icon>
                          </button>
                      </div>
                      <input class="form-control pr-date-range" placeholder="Date Range" type="text" name="daterange" [locale]="{format: 'DD-MM-YYYY'}" ngxDaterangepickerMd [(ngModel)]="selected" />
                  </div>
                  </li>
                  <li class="list-group-item">
                    <label>Vendor</label>
                    <ng-select class="filter-select" [items]="vendor" bindLabel="name" placeholder="Select Vendor"
                      [(ngModel)]="selectedVendor" name="name">
                    </ng-select>
                  </li>
                </ul>

              </div>
            </div>

            <div class="row filter-cta-row">
              <div class="col-auto pr-2">
                <button class="btn btn-outline-secondary st">Apply</button>
              </div>
              <div class="col-auto pl-2">
                <button class="btn btn-light2 st" type="button" data-toggle="collapse"
                data-target="#filterCollapse" aria-expanded="false"
                aria-controls="filterCollapse">Cancel</button>
            </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="row">
    <div class="col">
      <div class="listview-table-wrap">
        <label class="p p-12">Showing Last 6 month records</label>
        <table datatable [dtOptions]="dtOptions" class="pr-datatable table table-hover">
          <thead>
            <tr>
              <th scope="col" class="chbx-col">
                <div class="custom-control custom-checkbox">
                  <input type="checkbox" class="custom-control-input" id="checkAll">
                  <label class="custom-control-label" for="checkAll"></label>
                </div>
              </th>
              <!-- <th *ngFor="let header of headers">{{ header }}</th> -->
              <th scope="col"><span>Registration No</span></th>
              <th scope="col"><span>Name</span></th>
              <th scope="col"><span>Status</span></th>
              <th scope="col"><span>Mobile No</span></th>
              <th scope="col"><span>Category</span></th>
              <th scope="col"><span>Sub Category</span></th>
              <th scope="col"><span>Area</span></th>
              <th scope="col"><span>Source</span></th>
              <th scope="col"><span>Created On</span></th>
              <th scope="col" class="action-col"><span>Action</span></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of datan">
              <th scope="row" class="chbx-col">
                <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" [attr.id]="item[0]">
                    <label class="custom-control-label" [attr.for]="item[0]"></label>
                </div>
              </th>
              <td class="showOnHover" (click)="renderDetail(item[0])">{{item[0]}}
                <span class="show">
                    <span class="enqry-no-blk">{{item[0]}}</span>
                    <span class="enqry-name-blk">{{item[1]}}</span>
                    <div class="enqry-sts-blk" [ngSwitch]="item[2]">
                    <div *ngSwitchCase="'success'">
                        <div class="badge badge-label-success">Approved</div>
                    </div>
                    <div *ngSwitchCase="'warning'">
                        <div class="badge badge-label-warning">New</div>
                    </div>
                    <div *ngSwitchDefault>
                        <div class="badge badge-label-danger">Rejected</div>
                    </div>
                    </div>
                    <div class="list-blk">
                    <p><span>Old Alwal</span><span>Sub Area</span></p>
                    <p><span>Venkatesh</span><span>Vendor</span></p>
                    <p><span>Venkatesh.co</span><span>Agency</span></p>
                    </div>
                </span>
              </td>
              <td>{{item[1]}}</td>
              <td>
                <div [ngSwitch]="item[2]">
                    <div *ngSwitchCase="'Approved'">
                    <div class="badge badge-label-success">Approved</div>
                    </div>
                    <div *ngSwitchCase="'New'">
                    <div class="badge badge-label-warning">New</div>
                    </div>
                    <div *ngSwitchDefault>
                    <div class="badge badge-label-danger">Rejected</div>
                    </div>
                </div>
              </td>
              <td>{{item[3]}}</td>
              <td>{{item[4]}}</td>
              <td>{{item[5]}}</td>
              <td>{{item[6]}}</td>
              <td>{{item[7]}}</td>
              <td>{{item[8] | date : 'dd MMM yy'}}</td>
              <td class="action-col" (click)="renderDetail(item[0])">
                <span class="show">
                    <ul class="list-group list-group-horizontal action-list">
                    <li class="list-group-item st" [routerLink]="['/applicant-details']" tooltipClass="pr-tooltip" placement="top" ngbTooltip="View" [openDelay]="300" [closeDelay]="500">
                        <i class="icons8 icons8-eye"></i>
                    </li>
                    </ul>
                </span>
              </td>
            </tr>
          </tbody>
        </table>

      </div>
    </div>
  </div>

</section>