<div aria-label="breadcrumb">
  <ol class="breadcrumb">            
    <li class="breadcrumb-item"><a [routerLink]="['/sourcing']">Sourcing</a></li>
    <li class="breadcrumb-item active" aria-current="page">Contracts</li>
  </ol>
</div>
<section class="pr-section list-view-section">
    <div class="row dash-wrap">
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img1.png');">
          <p><span class="badge badge-pill badge-label-new">New</span></p>
          <span class="num h1">57</span>
          <span class="p dtl">Contracts</span>
        </div>
      </div>
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
          <p><span class="badge badge-pill badge-label-finished">Finished</span></p>
          <span class="num h1">578</span>
          <span class="p dtl">Contracts</span>
        </div>
      </div>
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img3.png');">
          <p><span class="badge badge-pill badge-label-pending">Pending</span></p>
          <span class="num h1">229</span>
          <span class="p dtl">Contracts</span>
        </div>
      </div>
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
          <p><span class="badge badge-pill badge-label-danger">Rejected</span></p>
          <span class="num h1">32</span>
          <span class="p dtl">Contracts</span>
        </div>
      </div>
    </div>
    <div class="row justify-content-end">
      <div class="col">
        <form class="pr-search-form d-inline-block">
          <span class="s-icon"></span>
          <input class="form-control pr-table-search" type="search" placeholder="Search by Contract No, Name" aria-label="Search">
        </form>
      </div>
      <div class="col-auto pr-0">
        <button class="btn btn-outline-light3 st bttn-filter" type="button" data-toggle="collapse"
          data-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse"><span>2</span>Filter</button>
      </div>
      <div class="col-auto pl-0">
        <div class="dropdown tool-dropdown">
          <button class="btn btn-outline-light3 st dropdown-toggle" type="button" id="dropdownMenuButton"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Tools
          </button>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
            <a class="dropdown-item active" >
              <i class="icons8 icons8-print-2"></i>Print
            </a>
            <a class="dropdown-item" >
              <i class="icons8 icons8-pdf"></i>PDF
            </a>
            <a class="dropdown-item" >
              <i class="icons8 icons8-brief"></i>Excel
            </a>
            <a class="dropdown-item" >
              <i class="icons8 icons8-document"></i>CSV
            </a>
          </div>
        </div>
      </div>
      <div class="col-auto pl-0">
        <button class="btn btn-secondary st" [routerLink]="'/contracts/add'"><fa-icon [icon]="faPlus"></fa-icon>Contract</button>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="filters-wrap">
          <div class="collapse" id="filterCollapse">
            <div class="filter-wrap-inner">
              <div class="row">
                <div class="col-12">
                  <ul class="list-group list-group-horizontal">
                    <li class="list-group-item">
                      <label>Utility</label>
                      <ng-select class="filter-select" [items]="utility" bindLabel="name"
                          placeholder="Select Utility" [(ngModel)]="selectedUtility" name="name">
                      </ng-select>
                  </li>
                  <li class="list-group-item">
                      <label>Type</label>
                      <ng-select class="filter-select" [items]="type" bindLabel="name" placeholder="Select Type" [(ngModel)]="selectedType"
                          name="name">
                      </ng-select>
                  </li>
                  <li class="list-group-item">
                      <label>Sub Type</label>
                      <ng-select class="filter-select" [items]="type" bindLabel="name" placeholder="Select Sub Type" [(ngModel)]="selectedType"
                          name="name">
                      </ng-select>
                  </li>
                    <li class="list-group-item">
                      <label>Supplier</label>
                      <ng-select class="filter-select" [items]="supplier" bindLabel="name" placeholder="Select Supplier"
                        [(ngModel)]="selectedSupplier" name="name">
                      </ng-select>
                    </li>
                    
                    <li class="list-group-item">
                      <label>Status</label>
                      <ng-select class="filter-select" [items]="status" bindLabel="name" placeholder="Select Status"
                        [(ngModel)]="selectedStatus" name="name">
                      </ng-select>
                    </li>
                    <li class="list-group-item">
                      <label>Date Range</label>
                      <div class="input-group">
                          <div class="input-group-prepend">
                              <button class="btn bttn-transparent bttn-icon" type="button">
                                  <fa-icon [icon]="faCalendarAlt"></fa-icon>
                              </button>
                          </div>
                          <input class="form-control pr-date-range" placeholder="Date Range" type="text" name="daterange" [locale]="{format: 'DD-MM-YYYY'}" ngxDaterangepickerMd [(ngModel)]="selected" />
                      </div>
                  </li>
                  </ul>
                </div>
              </div>
              <div class="row filter-cta-row">
                <div class="col-auto pr-2">
                  <button class="btn btn-outline-secondary st">Apply</button>
                </div>
                <div class="col-auto pl-2">
                  <button class="btn btn-light2 st" type="button" data-toggle="collapse"
                  data-target="#filterCollapse" aria-expanded="false"
                  aria-controls="filterCollapse">Cancel</button>
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="listview-table-wrap">
          <label class="p p-12">Showing Last 6 month records</label>
          <table datatable [dtOptions]="dtOptions" class="pr-datatable table table-hover">
            <thead>
              <tr>
                <th scope="col" class="chbx-col">
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" id="checkAll">
                    <label class="custom-control-label" for="checkAll"></label>
                  </div>
                </th>
                <th scope="col"><span>Name</span></th>
                <th scope="col"><span>Contract No</span></th>
                
                <th scope="col"><span>Type</span></th>
                <th scope="col"><span>Sub Type</span></th>
                <th scope="col"><span>Supplier</span></th>
                <th scope="col"><span>Status</span></th>
                <th scope="col"><span>Created On</span></th>
                <th scope="col" class="action-col"><span>Action</span></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of collection.data">
                <th scope="row" class="chbx-col">
                  <div class="custom-control custom-checkbox">
                    <input type="checkbox" class="custom-control-input" [attr.id]="item.id">
                    <label class="custom-control-label" [attr.for]="item.id"></label>
                  </div>
                </th>
                <td class="showOnHover" (click)="renderDetail(item.id)">{{item.name}}
                  <span class="show">
                    <span class="enqry-no-blk">{{item.contractID}}</span>
                    <span class="enqry-name-blk">{{item.name}}</span>
                    
                    <div [ngSwitch]="item.status">
                        <div *ngSwitchCase="'finished'">
                        <div class="badge badge-label-finished">Finished</div>
                        </div>
                        <div *ngSwitchCase="'new'">
                        <div class="badge badge-label-new">New</div>
                        </div>
                        <div *ngSwitchCase="'pending'">
                        <div class="badge badge-label-pending">Pending</div>
                        </div>
                        <div *ngSwitchDefault>
                        <div class="badge badge-label-danger">Rejected</div>
                        </div>
                    </div>

                    <span class="enqry-sts-blk">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span>
                    <div class="list-blk">
                      <p><span>$500</span><span>Value</span></p>
                      <p><span>{{item.startDate | date : 'dd MMM yy'}}</span><span>Created On</span></p>
                      <p><span>Chris Paul</span><span>Created By</span></p>
                    </div>
                  </span>
                </td>
                <td>{{item.contractID}}</td>
                
                <td>{{item.__type}}</td>
                <td>{{item.sub_type}}</td>
                <td>{{item.supplier}}</td>
                <td>
                  <div [ngSwitch]="item.status">
                    <div *ngSwitchCase="'finished'">
                      <div class="badge badge-label-finished">Finished</div>
                    </div>
                    <div *ngSwitchCase="'new'">
                      <div class="badge badge-label-new">New</div>
                    </div>
                    <div *ngSwitchCase="'pending'">
                      <div class="badge badge-label-pending">Pending</div>
                    </div>
                    <div *ngSwitchDefault>
                      <div class="badge badge-label-danger">Rejected</div>
                    </div>
                  </div>
                </td>
                <td>{{item.startDate | date : 'dd MMM yy'}}</td>
                <td class="action-col" (click)="renderDetail(item.id)">
                  <span class="show">
                    <ul class="list-group list-group-horizontal action-list">
                      <li class="list-group-item st" [routerLink]="'/contracts/details'"
                        tooltipClass="pr-tooltip" placement="top" ngbTooltip="Quick View" [openDelay]="300" [closeDelay]="500">
                        <i class="icons8 icons8-eye"></i>
                      </li>
                    </ul>
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>