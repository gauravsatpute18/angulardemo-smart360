<!-- As per discussion with nilesh sir on 25th of June we are making breadcrumbs static in individual pages for time being for demo pupose -->
<div aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a [routerLink]="['/consumerops']">Consumer Ops</a></li>
        <li class="breadcrumb-item"><a [routerLink]="['/consumerops/meterdata/dispatch']">Dispatch</a></li>
        <li class="breadcrumb-item active" aria-current="page">Details</li>
    </ol>
</div>
<!-- As per skype discussion with nilesh sir on 25th of June we are making this dropdown static in individual pages for time being for demo purpose -->
<div class="plus-dropdown-wrap">
    <div class="dropdown plus-dropdown" dropdown dropdown-append-to-body>
        <a class="btn dropdown-toggle btn-primary bttn-icon rounded" role="button" id="headerDropdown1"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <fa-icon [icon]="faPlus"></fa-icon>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="headerDropdown1">
            <a class="dropdown-item active" href="/registration">Registration</a>
            <a class="dropdown-item" href="#">Survey</a>
            <a class="dropdown-item" href="#">Campgain</a>
        </div>
    </div>
</div>

<section class="pr-section applicant-details-sec">
    <div class="row justify-content-center">
        <div class="col-auto cust-table-col">
            <ngx-simplebar [options]="scrollOptions" class="cust-sm-table-wrap">
                <div class="row justify-content-end">
                    <div class="col align-self-center">
                        <h4 class="h4 mb-0 px-3">Bill Cycle list</h4>
                    </div>
                    <div class="col-auto">
                        <button class="btn btn-outline-light3 st bttn-filter" type="button" data-toggle="collapse"
                          data-target="#tablefilterCollapse" aria-expanded="false" aria-controls="tablefilterCollapse"><span>2</span>Filter</button>
                    </div>
                </div>                

                <div class="row">
                    <div class="col-12">
                        <div class="filters-wrap">
                            <div class="collapse" id="tablefilterCollapse">
                                <div class="filter-wrap-inner">                
                                    <ul class="list-group list-group-horizontal">
                                        <li class="list-group-item">
                                            <label>Area</label>
                                            <ng-select class="filter-select" [items]="area" bindLabel="sarea" placeholder="Select Area"
                                              [(ngModel)]="selectedArea" name="sarea">
                                            </ng-select>
                                        </li>
                                        <li class="list-group-item">
                                            <label>Status</label>
                                            <ng-select class="filter-select" [items]="status" bindLabel="stts" placeholder="Select Status"
                                              [(ngModel)]="selectedStatus" name="stts">
                                            </ng-select>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <div class="listview-table-wrap no-info">
                            <table datatable class="pr-datatable pr-datatable-sm table table-hover no-boxshadow">
                                <thead>
                                    <tr>
                                        <th scope="col" class="sm-col"><span>Bill Cycle</span></th>
                                        <th scope="col"><span>Area</span></th>
                                        <th scope="col"><span>Status</span></th>
                                        <th scope="col"><span>Due Date</span></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of collection1.data">
                                        <td class="sm-col">{{item.billcycle}}</td>
                                        <td>{{item.area}}</td>
                                        <td>
                                            <div [ngSwitch]="item.status">
                                                <div *ngSwitchCase="'partial'">
                                                    <div class="badge badge-label-danger">Partial</div>
                                                </div>
                                                <div *ngSwitchCase="'dispatched'">
                                                    <div class="badge badge-label-pending">Dispatched</div>
                                                </div>
                                                <div *ngSwitchCase="'notdispatched'">
                                                    <div class="badge badge-label-unfinished">Not Dispatched</div>
                                                </div>
                                                <div *ngSwitchDefault>
                                                    <div class="badge badge-label-finished">Complete</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>{{item.duedt | date : 'dd MMM yyyy'}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </ngx-simplebar>           
        </div>
        <div class="col">
            <ngx-simplebar [options]="scrollOptions" class="cust-sm-table-wrap">
                <div class="row justify-content-end">
                    <div class="col align-self-center">
                        <h4 class="h4 px-3">POR2-GANDHI NAGAR <span class="badge badge-label-finished ml-3">Complete</span></h4>
                        <p class="p text-dark fw-500 px-3">Old Alwal-30</p>
                    </div>
                    <div class="col">
                        <p class="p text-primary fw-500 mr-4 text-right">Bill Month: SEP</p>
                    </div>
                </div>
                <div class="row justify-content-end">                    
                    <div class="col ml-3">
                        <form class="pr-search-form d-inline-block">
                          <span class="s-icon"></span>
                          <input class="form-control pr-table-search" type="search" placeholder="Search by MR, Status" aria-label="Search">
                        </form>
                    </div>  
                    <div class="col-auto pr-0">
                        <label class="p p-13 mr-3">Records</label>
                        <ng-select style="display: inline-block;min-width: 80px;" [searchable]="false" appendTo="body" class="filter-select" [items]="pagination" bindLabel="name" placeholder="10"
                            [(ngModel)]="selectedPagination" name="name">
                        </ng-select>
                    </div>                 
                    <div class="col-auto pr-0">
                        <button class="btn btn-outline-light3 st bttn-filter mr-0" type="button" data-toggle="collapse"
                            data-target="#tablefilterCollapse_2" aria-expanded="false" aria-controls="tablefilterCollapse_2"><span>2</span>Filter</button>
                    </div>
                    <div class="col-auto pl-0 mr-3">
                        <div class="dropdown tool-dropdown">
                            <button class="btn btn-outline-light3 st dropdown-toggle" type="button" id="dropdownMenuButton"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Tools
                            </button>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item active" href="#">
                                    <fa-icon [icon]="faPrint"></fa-icon>Print
                                </a>
                                <a class="dropdown-item" href="#">
                                    <fa-icon [icon]="faFilePdf"></fa-icon>PDF
                                </a>
                                <a class="dropdown-item" href="#">
                                    <fa-icon [icon]="faFileExcel"></fa-icon>Excel
                                </a>
                                <a class="dropdown-item" href="#">
                                    <fa-icon [icon]="faFileCsv"></fa-icon>CSV
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                      <div class="filters-wrap">
                        <div class="collapse" id="tablefilterCollapse_2">
                          <div class="filter-wrap-inner">
                            <div class="row">
                              <div class="col-12">
                                <ul class="list-group list-group-horizontal">
                                    <li class="list-group-item">
                                        <label>MR</label>
                                        <ng-select class="filter-select" [items]="area" bindLabel="sarea"
                                            placeholder="Select MR" [(ngModel)]="selectedArea" name="sarea">
                                        </ng-select>
                                    </li>
                                    <li class="list-group-item">
                                        <label>Status</label>
                                        <ng-select class="filter-select" [items]="status" bindLabel="stts"
                                            placeholder="Select Status" [(ngModel)]="selectedStatus" name="stts">
                                        </ng-select>
                                    </li>
                                </ul>
                              </div>
                            </div>
                            <div class="row filter-cta-row">
                              <div class="col-auto pr-2">
                                <button class="btn btn-outline-secondary st">Apply</button>
                              </div>
                              <div class="col-auto pl-2">
                                <button class="btn btn-light2 st">Cancel</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
            

            
                <div class="row">
                    <div class="col-12">
                        <div class="listview-table-wrap px-3">
                            <label class="p p-12">Showing Last 6 month records</label>
                            <table datatable class="pr-datatable table table-hover no-boxshadow">
                                <thead>
                                    <tr>
                                        <th scope="col" class="sm-col"><span>Route</span></th>
                                        <th scope="col"><span>Consumers</span></th>
                                        <th scope="col"><span>Reading</span></th>
                                        <th scope="col"><span>MR</span></th>
                                        <th scope="col"><span>Dispatch date</span></th>
                                        <th scope="col"><span>Due date</span></th>
                                        <th scope="col"><span>Status</span></th>
                                        <th scope="col" class="action-col"><span>Action</span></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of collection2.data">
                                        <td class="sm-col">0{{item.mru}}</td>
                                        <td>{{item.consumer}}</td>
                                        <td>{{item.reading}}</td>
                                        <td>{{item.mr}}</td>
                                        <td>{{item.disptchdt | date : 'dd MMM yyyy'}}</td>
                                        <td>{{item.duedt | date : 'dd MMM yyyy'}}</td>
                                        <td>
                                            <div [ngSwitch]="item.status">
                                                <div *ngSwitchCase="'partial'">
                                                    <div class="badge badge-label-danger">Partial</div>
                                                </div>
                                                <div *ngSwitchCase="'dispatched'">
                                                    <div class="badge badge-label-pending">Dispatched</div>
                                                </div>
                                                <div *ngSwitchCase="'notdispatched'">
                                                    <div class="badge badge-label-unfinished">Not Dispatched</div>
                                                </div>
                                                <div *ngSwitchDefault>
                                                    <div class="badge badge-label-finished">Complete</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="action-col">
                                            <span class="show">
                                                <ul class="list-group list-group-horizontal action-list">
                                                    <li class="list-group-item st" tooltipClass="pr-tooltip" placement="top"
                                                        ngbTooltip="Assign" [openDelay]="300" [closeDelay]="500" role="button" data-toggle="modal" data-target="#dispatchAssignModal">
                                                        <fa-icon [icon]="faUser"></fa-icon>
                                                    </li>
                                                </ul>
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </ngx-simplebar>
        </div>
    </div>
</section>

<!-- Dispatch Assign Modal -->
<div class="pr-modal">
    <div class="modal right fade" id="dispatchAssignModal" data-backdrop="false" tabindex="-1" role="dialog"
        aria-labelledby="dispatchAssignModalLabel">
        <div class="modal-dialog" role="document"  style="min-width:570px;">
            <div class="modal-content">
                <div class="modal-header pr-modal-header">
                    <div class="row w-100">
                        <div class="col-6 align-self-center">
                            <h4 class="modal-title mb-1" id="dispatchAssignModalLabel">MRU Details</h4>
                        </div>
                        <div class="col-6 align-self-center">
                            <div class="inner-page-pagination">
                                <!-- <nav class="">
                                    <ul class="pagination">
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#">Previous<button class="btn bttn-prev"><fa-icon [icon]="faChevronLeft"></fa-icon></button></a>
                                        </li>
                                        <li class="page-item">
                                            <a class="page-link" href="#"><button class="btn bttn-next"><fa-icon [icon]="faChevronRight"></fa-icon></button>Next</a>
                                        </li>
                                    </ul>
                                </nav> -->
                            </div>
                        </div>
                    </div>                    
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">&times;</button>
                </div>
                <ngx-simplebar [options]="scrollOptions" class="modal-body pr-modal-body">
                    <div class="row">
                        <div class="col-12">
                            <div class="inner-form">

                                <div class="row">
                                    <div class="col-12">
                                        <div class="dtls-block">
                                            <div class="block-body">
                                                <div class="row">
                                                    <div class="col-7">
                                                        <h4 class="h4">POR2-GANDHI NAGAR</h4>
                                                        <h6>Old Alwal-30</h6>
                                                    </div>
                                                    <div class="col">
                                                        <h6 class="text-primary">Bill Month: SEP</h6>
                                                        <p class="p p-12 mb-0"><span>Due Date</span></p>
                                                        <p class="p p-12 mb-1"><span class="text-right text-dark">09 Jan 2020</span></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="info-block">
                                                <div class="applicant-data">
                                                    <div class="row">
                                                        <div class="col-auto">
                                                            <p class="p p-13">Consumer</p>
                                                            <h6 class="h6">1300</h6>
                                                        </div>
                                                        <div class="col-auto">
                                                            <p class="p p-13">Reading</p>
                                                            <h6 class="h6">450</h6>
                                                        </div>
                                                        <div class="col-auto">
                                                            <p class="p p-13">Allocation Date</p>
                                                            <h6 class="h6">09 Jan 2020</h6>
                                                        </div>
                                                        <div class="col-auto">
                                                            <p class="p p-13">Dispatched Date</p>
                                                            <h6 class="h6">09 Jan 2020</h6>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col">
                                        <hr class="hr">
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-12 my-2">
                                      <form class="pr-search-form d-inline-block w-100">
                                        <span class="s-icon"></span>
                                        <input class="form-control pr-table-search w-100" type="search" placeholder="Search" aria-label="Search">
                                      </form>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-12" >
                                        <div class="title-divider">Field Force</div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-12">
                                        <div class="listview-table-wrap no-info">
                                            <table datatable class="pr-datatable pr-datatable-sm table table-hover no-boxshadow">
                                                <thead>
                                                    <tr>
                                                        <th scope="col"><span>Id</span></th>
                                                        <th scope="col"><span>Name</span></th>
                                                        <th scope="col"><span>Contact</span></th>
                                                        <th scope="col"><span>Assign</span></th>
                                                        <th scope="col" class="action-col"><span>&nbsp;</span></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let item of collection3.data">
                                                        <td>{{item.id}}</td>
                                                        <td>{{item.nme}}</td>
                                                        <td>{{item.cntc}}</td>
                                                        <td>{{item.assign}}</td>
                                                        <td class="action-col">
                                                            <span class="show">
                                                                <ul class="list-group list-group-horizontal action-list">
                                                                    <li class="list-group-item st" tooltipClass="pr-tooltip" placement="top"
                                                                        ngbTooltip="Assign" [openDelay]="300" [closeDelay]="500" >
                                                                        <fa-icon [icon]="faUser"></fa-icon>
                                                                    </li>
                                                                </ul>
                                                            </span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </ngx-simplebar>
            </div>
        </div>
    </div>
</div>