<div aria-label="breadcrumb">
  <ol class="breadcrumb">            
      <li class="breadcrumb-item active" aria-current="page">Consumer Ops</li>
  </ol>
</div>

<section class="pr-section list-view-section">
   

    <div class="row dash-wrap">
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
          <div class="clearfix">
            <ng-select class="status-select new d-inline-block" [items]="newStatus" [searchable]="false" [clearable]="false" bindLabel="status" placeholder="" [(ngModel)]="selectedNewStatus" name="status" bindValue="status">
            </ng-select>
          </div>
          <span class="num h1">$5890</span>
          <span class="p dtl">Amount</span>
        </div>
      </div>
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
          <div class="clearfix">
            <ng-select class="status-select new d-inline-block" [items]="newStatus1" [searchable]="false" [clearable]="false" bindLabel="status" placeholder="" [(ngModel)]="selectedNewStatus1" name="status" bindValue="status">
            </ng-select>
          </div>
          <span class="num h1">$5890</span>
          <span class="p dtl">Amount</span>
        </div>
      </div>
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
          <div class="clearfix">
            <ng-select class="status-select new d-inline-block" [items]="newStatus2" [searchable]="false" [clearable]="false" bindLabel="status" placeholder="" [(ngModel)]="selectedNewStatus2" name="status" bindValue="status">
            </ng-select>
          </div>
          <span class="num h1">$5890</span>
          <span class="p dtl">Amount</span>
        </div>
      </div>
      <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
          <div class="clearfix">
            <ng-select class="status-select new d-inline-block" [items]="newStatus3" [searchable]="false" [clearable]="false" bindLabel="status" placeholder="" [(ngModel)]="selectedNewStatus3" name="status" bindValue="status">
            </ng-select>
          </div>
          <span class="num h1">$5890</span>
          <span class="p dtl">Amount</span>
        </div>
      </div>
      <!-- <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img1.png');">
          <p><span class="badge badge-pill badge-warning">Total</span></p>
          <span class="num h1">100</span>
          <span class="p dtl">Consumers</span>
        </div>
      </div> -->
      <!-- <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img3.png');">
          <p><span class="badge badge-pill badge-success">Paid</span></p>
          <span class="num h1">50</span>
          <span class="p dtl">Consumers</span>
        </div>
      </div> -->
      <!-- <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-error-img.png');">
          <p><span class="badge badge-pill not-dispatched">Unpaid</span></p>
          <span class="num h1">50</span>
          <span class="p dtl">Consumers</span>
        </div>
      </div> -->
      <!-- <div class="col-xl-3 col-4 dash-col">
        <div class="sm-dash" style="background-image: url('../../assets/images/dashboard-card-img2.png');">
          <p><span class="badge badge-pill badge-success">Total</span></p>
          <span class="num h1">578</span>
          <span class="p dtl">Amount</span>
        </div>
      </div> -->
    </div>

    <div class="row justify-content-end">
        <div class="col">
          <form class="pr-search-form d-inline-block">
            <span class="s-icon"></span>
            <input class="form-control pr-table-search" type="search" placeholder="Search by Consumer, Patment date, Mode, Channel" aria-label="Search">        
          </form>
        </div>
        <div class="col-auto pr-0">
          <label class="p p-13 mr-3">Records</label>
          <ng-select  class="filter-select record-select" [searchable]="false" [clearable]="false"
              appendTo="body" [items]="pagination" bindLabel="name"
              placeholder="30" [(ngModel)]="selectedPagination" name="name">
          </ng-select>
      </div>
        <div class="col-auto pr-0" style="margin-top: 2px;">
            <button class="btn btn-outline-light3 st bttn-filter" type="button" data-toggle="collapse" data-target="#filterCollapse" aria-expanded="false" aria-controls="filterCollapse"><span>2</span>Filter</button>
        </div>
        <div class="col-auto pl-0" style="margin-top: 2px;">
            <div class="dropdown tool-dropdown">
                <button class="btn btn-outline-light3 st dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Tools
                </button>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item active" >
                    <i class="icons8 icons8-print-2"></i>Print
                  </a>
                  <a class="dropdown-item" >
                    <i class="icons8 icons8-pdf"></i>PDF
                  </a>
                  <a class="dropdown-item" >
                    <i class="icons8 icons8-brief"></i>Excel
                  </a>
                  <a class="dropdown-item" >
                    <i class="icons8 icons8-document"></i>CSV
                  </a>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <div class="filters-wrap">
                <div class="collapse" id="filterCollapse">
                    <div class="filter-wrap-inner">
                      <div class="row">
                        <div class="col-12">
                          <ul class="list-group list-group-horizontal">
                            <li class="list-group-item">
                              <label>Utility</label>
                                <ng-select class="filter-select" [items]="utility" bindLabel="name" placeholder="Select Utility" [(ngModel)]="selectedUtility"
                                    name="name">
                                </ng-select>
                            </li>
                            <li class="list-group-item">
                              <label>Mode</label>
                              <ng-select class="filter-select" [items]="mode" bindLabel="name" placeholder="Mode" [(ngModel)]="selectedMode"
                                  name="name">
                              </ng-select>
                            </li>
                            <li class="list-group-item">
                            <label>Type</label>
                            <ng-select class="filter-select" [items]="type" bindLabel="name" placeholder="Type" [(ngModel)]="selectedType"
                                name="name">
                            </ng-select>
                            </li>
                            <li class="list-group-item">
                              <label>Channel</label>
                              <ng-select class="filter-select" [items]="channel" bindLabel="name" placeholder="Channel" [(ngModel)]="selectedChannel"
                                  name="name">
                              </ng-select>
                            </li>                              
                            <li class="list-group-item">
                              <label>Status</label>
                              <ng-select class="filter-select" [items]="status" bindLabel="name" placeholder="Status" [(ngModel)]="selectedStatus"
                                  name="name">
                              </ng-select>
                            </li>     
                            <li class="list-group-item">
                              <label>Date Range</label>
                              <div class="input-group">
                                  <div class="input-group-prepend">
                                      <button class="btn bttn-transparent bttn-icon" type="button">
                                          <fa-icon [icon]="faCalendarAlt"></fa-icon>
                                      </button>
                                  </div>
                                  <input class="form-control pr-date-range" placeholder="Date Range" type="text" name="daterange" [locale]="{format: 'DD-MM-YYYY'}" ngxDaterangepickerMd [(ngModel)]="selected" />
                              </div>
                            </li>  
                            <li class="list-group-item">
                              <div class="input-group" style="margin-top: 26px;">
                                <div class="row filter-cta-row">
                                    <div class="col-auto pr-2">
                                      <button class="btn btn-outline-secondary st">Apply</button>
                                    </div>
                                </div>
                              </div>
                            </li>
                            <li class="list-group-item">
                              <div class="input-group" style="margin-top: 26px; margin-left: 140px;">
                                <div class="row filter-cta-row">
                                    <div class="col-auto pl-2">
                                      <button class="btn btn-light2 st" type="button" data-toggle="collapse"
                                      data-target="#filterCollapse" aria-expanded="false"
                                      aria-controls="filterCollapse">Cancel</button>
                                    </div>
                                </div>
                              </div>
                            </li>            
                          </ul>
                        </div>
                      </div>                         
                    </div>
                  </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="listview-table-wrap">

              <label class="p p-12">Showing Last 6 month records</label>
              <table datatable [dtOptions]="dtOptions" class="pr-datatable table table-hover">
                    <thead>
                      <tr>
                        <th scope="col" class="chbx-col">
                          <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="checkAll">
                            <label class="custom-control-label" for="checkAll"></label>
                          </div>
                        </th>
                        <!-- <th scope="col"><span>Name</span></th> -->
                        <th scope="col"><span>Transaction Id</span></th>
                        <th scope="col"><span>Type</span></th>
                        <th scope="col"><span>Consumer No.</span></th>
                        <!-- <th scope="col"><span>Mobile No.</span></th> -->
                        <th scope="col"><span>Amount</span></th>
                        <th scope="col"><span>Payment Date</span></th>
                        <th scope="col"><span>Channel</span></th>
                        <th scope="col"><span>Mode</span></th>
                        <th scope="col"><span>Status</span></th>
                        <th scope="col" class="action-col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of collection.data">
                        <th scope="row" class="chbx-col">
                          <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" [attr.id]="item.id">
                            <label class="custom-control-label" [attr.for]="item.id"></label>
                          </div>
                        </th>
                        <td class="showOnHover" (click)="renderDetail(item.id)">{{item.transactionno}}
                          <span class="show">
                            <span class="enqry-no-blk">{{item.transactionno}}</span>
                            <span class="enqry-name-blk">{{item.name}}</span>
                            <div class="enqry-sts-blk" [ngSwitch]="item.status">
                              <div *ngSwitchCase="'paid'">
                                <div class="badge paid">Paid</div>
                              </div>
                              <div *ngSwitchDefault>
                                <div class="badge not-dispatched">Un Paid</div>
                              </div>
                            </div>
                            <div class="list-blk">
                                <p><span>Digital</span><span>Mode</span></p>
                                <p><span>37485637756</span><span>Ref No</span></p>
                                <p><span>PayU</span><span>Provider</span></p>
                            </div>
                          </span>
                        </td>
                        <!-- <td>{{item.transactionno}}</td> -->
                        <td>
                            <div [ngSwitch]="item.type">
                                <div *ngSwitchCase="'Bill payment'">Bill payment</div>
                                <div *ngSwitchCase="'Registration charges'">Registration charges</div>
                                <div *ngSwitchDefault>Bill payment</div>
                            </div>
                        </td>
                        <td>{{item.consumerno}}</td>
                        <!-- <td>{{item.mobileno}}</td> -->
                        <td>{{item.amount}}</td>
                        <td>{{item.date | date : 'dd MMM yy'}}</td>
                        <td>{{item.channel}}</td>
                        <td>{{item.mode}}</td>
                        <td>
                          <div [ngSwitch]="item.status">
                            <div *ngSwitchCase="'paid'">
                              <div class="badge paid">Paid</div>
                            </div>
                            <div *ngSwitchDefault>
                              <div class="badge paid">Paid</div>
                            </div>
                          </div>
                        </td>
                        <td class="action-col">
                            <div class="dropdown dot-option-dropdown">
                                <a class="dot-btn-v st" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <a class="dropdown-item active st"><span>Reject</span></a>
                                    <a class="dropdown-item st" data-toggle="modal" data-target="#refundPaymentModal"><span>Refund</span></a>
                                    <a class="dropdown-item st" data-toggle="modal" data-target="#adjustPaymentModal"><span>Adjust</span></a>
                                    <a class="dropdown-item st" data-toggle="modal" data-target="#creditPaymentModal"><span>Credit</span></a>
                                    <a class="dropdown-item st" [routerLink]="['/consumerops/paymentsprofile']"><span>Go to consumer</span></a>
                                </div>
                            </div>
                        </td>
                      </tr>
                    </tbody>
                </table>
            </div>
            </div>
    </div>
</section>

<!-- Adjust component start-->
<div class="pr-modal">
    <div class="modal right fade" id="adjustPaymentModal" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="adjustPaymentModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">    
            <div class="modal-header pr-modal-header">
                <h4 class="modal-title" id="adjustPaymentModalLabel">Transaction</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">&times;</button>
            </div>
            <ngx-simplebar [options]="scrollOptions" class="modal-body pr-modal-body">
                <div class="row">
                    <div class="col-12">
                        <div class="inner-form">
                            <div class="info-block">
                                <div class="modal-header pr-modal-header">
                                    <div class="row">
                                        <div class="col-4">
                                            <p class="p p-13">Transaction No</p>
                                            <h6 class="h6">00199243</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Amount</p>
                                            <h6 class="h6">5438.00</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Mode</p>
                                            <h6 class="h6">Cash</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Channel</p>
                                            <h6 class="h6">Web App</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Status</p>
                                            <h6 class=" badge badge-label-success">Paid</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Date</p>
                                            <h6 class="h6">09 Jan 2020</h6>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="form-row">
                                    <div class="col-12">
                                        <label>Adjust Amount</label>
                                        <input type="text" class="form-control" placeholder="" value="00.00" />
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-12">
                                        <label>Transaction Remark</label>
                                        <textarea type="text" class="form-control" placeholder="" style="height: 100px; max-height: 100px;"></textarea>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
            </ngx-simplebar>
            <div class="modal-footer pr-modal-footer">
                <div class="row justify-content-end">
                    <div class="col-auto">
                        <button class="btn btn-outline-light3 st" data-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                    <div class="col-auto pl-1 pr-0">
                        <button class="btn btn-secondary st" >Submit</button> 
                    </div>
                </div>
            </div>    
        </div>
      </div>
    </div>
</div>
<!-- Adjust component end-->


<!-- Refund component start-->
<div class="pr-modal">
    <div class="modal right fade" id="refundPaymentModal" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="refundPaymentModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">    
            <div class="modal-header pr-modal-header">
                <h4 class="modal-title" id="refundPaymentModalLabel">Transaction</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">&times;</button>
            </div>
            <ngx-simplebar [options]="scrollOptions" class="modal-body pr-modal-body">
                <div class="row">
                    <div class="col-12">
                        <div class="inner-form">
                            <div class="info-block">
                                <div class="modal-header pr-modal-header">
                                    <div class="row">
                                        <div class="col-4">
                                            <p class="p p-13">Transaction No</p>
                                            <h6 class="h6">00199243</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Amount</p>
                                            <h6 class="h6">5438.00</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Mode</p>
                                            <h6 class="h6">Cash</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Channel</p>
                                            <h6 class="h6">Web App</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Status</p>
                                            <h6 class=" badge badge-label-success">Paid</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Date</p>
                                            <h6 class="h6">09 Jan 2020</h6>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="form-row">
                                    <div class="col-12">
                                        <label>Refund Amount</label>
                                        <input type="text" class="form-control" placeholder="" value="00.00" />
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-12">
                                        <label>Transaction Remark</label>
                                        <textarea type="text" class="form-control" placeholder="" style="height: 100px; max-height: 100px;"></textarea>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
            </ngx-simplebar>
            <div class="modal-footer pr-modal-footer">
                <div class="row justify-content-end">
                    <div class="col-auto">
                        <button class="btn btn-outline-light3 st" data-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                    <div class="col-auto pl-1 pr-0">
                        <button class="btn btn-secondary st">Submit</button> 
                    </div>
                </div>
            </div>    
        </div>
      </div>
    </div>
</div>
<!-- Refund component end-->


<!-- Credit component start-->
<div class="pr-modal">
    <div class="modal right fade" id="creditPaymentModal" data-backdrop="false" tabindex="-1" role="dialog" aria-labelledby="creditPaymentModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">    
            <div class="modal-header pr-modal-header">
                <h4 class="modal-title" id="creditPaymentModalLabel">Transaction</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">&times;</button>
            </div>
            <ngx-simplebar [options]="scrollOptions" class="modal-body pr-modal-body">
                <div class="row">
                    <div class="col-12">
                        <div class="inner-form">
                            <div class="info-block">
                                <div class="modal-header pr-modal-header">
                                    <div class="row">
                                        <div class="col-4">
                                            <p class="p p-13">Transaction No</p>
                                            <h6 class="h6">00199243</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Amount</p>
                                            <h6 class="h6">5438.00</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Mode</p>
                                            <h6 class="h6">Cash</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Channel</p>
                                            <h6 class="h6">Web App</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Status</p>
                                            <h6 class=" badge badge-label-success">Paid</h6>
                                        </div>
                                        <div class="col-4">
                                            <p class="p p-13">Date</p>
                                            <h6 class="h6">09 Jan 2020</h6>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                                <div class="form-row">
                                    <div class="col-12">
                                        <label>Credit Amount</label>
                                        <input type="text" class="form-control" placeholder="" value="00.00" />
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="col-12">
                                        <label>Transaction Remark</label>
                                        <textarea type="text" class="form-control" placeholder="" style="height: 100px; max-height: 100px;"></textarea>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
            </ngx-simplebar>
            <div class="modal-footer pr-modal-footer">
                <div class="row justify-content-end">
                    <div class="col-auto">
                        <button class="btn btn-outline-light3 st" data-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                    <div class="col-auto pl-1 pr-0">
                        <button class="btn btn-secondary st" >Submit</button> 
                    </div>
                </div>
            </div>    
        </div>
      </div>
    </div>
</div>
<!-- Credit component end-->